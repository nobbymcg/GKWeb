/*-
 * #%L
 * gatekeeper-api-protoc
 * %%
 * Copyright (C) 2021 - 2026 Nuance Communications Inc. All Rights Reserved.
 * %%
 * The copyright to the computer program(s) herein is the property of
 * Nuance Communications Inc. The program(s) may be used and/or copied
 * only with the written permission from Nuance Communications Inc.
 * or in accordance with the terms and conditions stipulated in the
 * agreement/contract under which the program(s) have been supplied.
 * #L%
 */

syntax = "proto3";

package nuance.biosec.v1.scopes;

option java_package = "com.nuance.rpc.biosec.v1.scopes";
option java_multiple_files = true;

import "nuance/biosec/v1/scopes/scopes_manager_enums.proto";
import "nuance/biosec/v1/resources/resources_manager_enums.proto";
import "nuance/biosec/v1/common_types.proto";
import "nuance/rpc/status.proto";
import "google/protobuf/field_mask.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/wrappers.proto";

// Input message that defines parameters for [CreateScope](#CreateScope).
message CreateScopeRequest {
  // Mandatory. The scope identifier provided by the scope creator.
  string scope_id = 1;
  // Optional. Additional information about the scope.
  ScopeDetailsForCreate details = 2;
  // Optional. A field mask used to specify the [ScopeDetailsForCreate](#nuance.biosec.v1.scopes.ScopeDetailsForCreate) fields that the method sets.
  google.protobuf.FieldMask field_mask = 3;
  // Mandatory. Scope profile.
  ScopeProfile scope_profile = 4;
}

// Output message that defines parameters returned by [CreateScope](#CreateScope).
message CreateScopeResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. Unique ID of the newly created scope.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
}

// Input message that defines parameters for [RenameScope](#RenameScope).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message RenameScopeRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Scope's new ID. It must be unique.
  string new_scope_id = 3;
}

// Output message that defines parameters returned by [RenameScope](#RenameScope).
message RenameScopeResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [GetScopeDetails](#GetScopeDetails).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message GetScopeDetailsRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Optional. A field mask used to specify the [ScopeDetailsForRead](#nuance.biosec.v1.scopes.ScopeDetailsForRead) fields that the method reads.
  google.protobuf.FieldMask field_mask = 3;
}

// Output message that defines parameters returned by [GetScopeDetails](#GetScopeDetails).
message GetScopeDetailsResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. Scope's details.
  ScopeDetailsForRead details = 2;
}

// Input message that defines parameters for [ListScopes](#ListScopes).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Not used
// * configset_id: Not used
message ListScopesRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Optional. A field mask used to specify the [ScopeDetailsForRead](#nuance.biosec.v1.scopes.ScopeDetailsForRead) that the method reads.
  google.protobuf.FieldMask field_mask = 2;
}

// Output message that defines parameters returned by [ListScopes](#ListScopes).
message ListScopesResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. List of scopes details.
  repeated ScopeDetailsForRead details = 2;
}

// Input message that defines parameters for [GetGkScopeId](#GetGkScopeId).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message GetGkScopeIdRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Identifies the scope.
  string scope_id = 2;
}

// Output message that defines parameters returned by [GetGkScopeId](#GetGkScopeId).
message GetGkScopeIdResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
}

// Input message that defines parameters for [SetScopeResource](#SetScopeResource).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message SetScopeResourceRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Resource's name.
  string resource_name = 3;
  // Mandatory. Resource's parameters.
  map<string, string> resource_parameters = 4;
  // Mandatory. Secured resource parameters. [GetScopeResource](#GetScopeResource) does not return these parameters.
  map<string, string> secured_resource_parameters = 5;
}

// Output message that defines parameters returned by [SetScopeResource](#SetScopeResource).
message SetScopeResourceResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [UpdateASRaaSCredentials](#UpdateASRaaSCredentials).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message UpdateASRaaSCredentialsRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. ASRaaS client Id.
  string client_id = 3;
  // Mandatory. ASRaaS client secret.
  string client_secret = 4;
}

// Output message that defines parameters returned by [UpdateASRaaSCredentials](#UpdateASRaaSCredentials).
message UpdateASRaaSCredentialsResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}


// Input message that defines parameters for [GetScopeResource](#GetScopeResource).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message GetScopeResourceRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Resource's name.
  // The following resource names are supported:
  //
  // * cassandra
  // * minio
  // * kibana
  // * encryption
  // * signing
  // * media_manager
  // * asraas
  string resource_name = 3;
}

// Output message that defines parameters returned by [SetScopeResource](#SetScopeResource).
message GetScopeResourceResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. List of the resource's parameters.
  map<string, string> resource_parameters = 2;
}


// Input message that defines parameters for [AssignScopeResources](#AssignScopeResources).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message AssignScopeResourcesRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Resource keys.
  ScopeResourceKey scope_resource_key = 3;
  // Mandatory. Resource IDs.
  repeated nuance.biosec.v1.UniqueId gk_resource_ids = 4;
}

// Input message that defines parameters returned by [AssignScopeResources](#AssignScopeResources).
message AssignScopeResourcesResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [GetAssignedScopeResources](#GetAssignedScopeResources).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message GetAssignedScopeResourcesRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Properties mapped to resource.
  ScopeResourceKey scope_resource_key = 3;
}

// Output message that defines parameters returned by [GetAssignedScopeResources](#GetAssignedScopeResources).
message GetAssignedScopeResourcesResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. The resources' IDs.
  repeated nuance.biosec.v1.UniqueId gk_resource_ids = 2;
}

// Input message that defines parameters for [DeleteAssignedScopeResources](#DeleteAssignedScopeResources).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message DeleteAssignedScopeResourcesRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Properties mapped to resource.
  ScopeResourceKey scope_resource_key = 3;
}

// Output message that defines parameters returned by [DeleteAssignedScopeResources](#DeleteAssignedScopeResources).
message DeleteAssignedScopeResourcesResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [ListAssignedScopeResources](#ListAssignedScopeResources).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message ListAssignedScopeResourcesRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scopes's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
}

// Output message that defines parameters returned by [ListAssignedScopeResources](#ListAssignedScopeResources).
message ListAssignedScopeResourcesResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. List of the assigned resources.
  repeated ScopeAssignedResources assigned_resources = 2;
}

// Input message that defines parameters for [ListScopesWithAssignedResource](#ListScopesWithAssignedResource).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Not used
// * configset_id: Not used
message ListScopesWithAssignedResourceRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Unique ID of the resource.
  nuance.biosec.v1.UniqueId gk_resource_id = 2;
}

// Output message that defines parameters returned by [ListScopesWithAssignedResource](#ListScopesWithAssignedResource).
message ListScopesWithAssignedResourceResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
  // Optional. List of scopes with this resource assigned to them.
  repeated ScopeAndResourceKey scopes_with_resource = 2;
}

// Input message that defines parameters for [UpdateScopeDetails](#UpdateScopeDetails).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message UpdateScopeDetailsRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. Details that the method updates.
  ScopeDetailsForUpdate details = 3;
  // Mandatory. A field mask used to specify the [ScopeDetailsForUpdate](#nuance.biosec.v1.scopes.ScopeDetailsForUpdate) fields that the method sets.
  google.protobuf.FieldMask field_mask = 4;
}

// Output message that defines parameters returned by [UpdateScopeDetails](#UpdateScopeDetails).
message UpdateScopeDetailsResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [SetScopeState](#SetScopeState).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message SetScopeStateRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
  // Mandatory. The scope's state.
  ScopeState scope_state = 3;
}

// Output message that defines parameters returned by [SetScopeState](#SetScopeState).
message SetScopeStateResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [MarkScopeForDeletion](#MarkScopeForDeletion).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message MarkScopeForDeletionRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
}

// Output message that defines parameters returned by [MarkScopeForDeletion](#MarkScopeForDeletion).
message MarkScopeForDeletionResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [UnMarkScopeForDeletion](#UnMarkScopeForDeletion).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message UnMarkScopeForDeletionRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
}

// Output message that defines parameters returned by [MarkScopeForDeletion](#MarkScopeForDeletion).
message UnMarkScopeForDeletionResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Input message that defines parameters for [ResetScope](#ResetScope).
//
// Uses the context field as follows:
//
// * gk_engagement_id: Not used
// * gk_session_id: Not used
// * gk_scope_id: Optional
// * configset_id: Not used
message ResetScopeRequest {
  // Optional. General request context.
  nuance.biosec.v1.Context context = 1;
  // Mandatory. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 2;
}

// Output message that defines parameters returned by [ResetScope](#ResetScope).
message ResetScopeResponse {
  // Mandatory. General operation status.
  nuance.rpc.Status status = 1;
}

// Contains the readable fields of the Scope. Included in [ListScopesResponse](#nuance.biosec.v1.scopes.ListScopesResponse) and [GetScopeDetailsResponse](#nuance.biosec.v1.scopes.GetScopeDetailsResponse).
message ScopeDetailsForRead {
  // Optional. Scope's unique ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 1;
  // Optional. Scope's identifier. Must be unique at least at the scope level.
  string scope_id = 2;
  // Optional. Name of the customer owning the scope.
  string customer_name = 3;
  // Optional. Description of the purpose of the scope.
  string description = 4;
  // Optional. Determines if the activity on this scope is billable.
  bool is_billable = 5;
  // Optional. The scope's state.
  ScopeState scope_state = 6;
  // Optional. The scope's go-live time. This information is used for billing.
  google.protobuf.Timestamp go_live_timestamp = 7;
  // Optional. The scope profile.
  ScopeProfile scope_profile = 8;
  // Optional. The scope's type.
  ScopeType scope_type = 9;

  // Optional. Date and time of the scope creation.
  google.protobuf.Timestamp creation_timestamp = 997;
  // Optional. Date and time of the scope last update.
  google.protobuf.Timestamp modification_timestamp = 998;
}

// Contains fields that the system uses to create a scope. Included in [CreateScopeRequest](#nuance.biosec.v1.scopes.CreateScopeRequest).
message ScopeDetailsForCreate {
  // Optional. Name of the customer owning the scope.
  string customer_name = 1;
  // Optional. Description of the purpose of the scope.
  string description = 2;
  // Optional. Determines if the activity on this scope is billable.
  bool is_billable = 3;
  // Optional. The scope's go-live time. This information is used for billing.
  google.protobuf.Timestamp go_live_timestamp = 4;
  // Optional. The scope's type.
  ScopeType scope_type = 5;
}

// Contains the writable fields of the Processed Audio Segment. Included in [UpdateScopeDetailsRequest](#nuance.biosec.v1.scopes.UpdateScopeDetailsRequest).
message ScopeDetailsForUpdate {
  // Optional. Name of the customer owning the scope.
  string customer_name = 1;
  // Optional. Description of the purpose of the scope.
  string description = 2;
  // Optional. Determines if the activity on this scope is billable.
  bool is_billable = 3;
  // Optional. The scope's go-live time. This information is used for billing.
  google.protobuf.Timestamp go_live_timestamp = 4;
  // Optional. The scope's type.
  ScopeType scope_type = 5;
}

// The ScopeResourceKey message which defines the properties for mapping resources.
// Resources are matched in the following order: 
//
// 1. resource_type 
// 2. resource_sub_type
// 3. service 
// 4. region 
// 5. is_read_only
message ScopeResourceKey {
  // Mandatory. Resource type.
  nuance.biosec.v1.resources.ResourceType resource_type = 1;
  // Optional. Additional specification for the resource type.
  string resource_sub_type = 2;
  // Optional. Service name. By default, it applies to all services.
  string service = 3;
  // Optional. Region. By default, it applies to all regions.
  string region = 4;
  // Optional. Is read only. By default - false;
  google.protobuf.BoolValue is_read_only = 5;
}

// Contains the scope and the assignment of the specific resource.
message ScopeAndResourceKey {
  // Mandatory. The gk scope ID.
  nuance.biosec.v1.UniqueId gk_scope_id = 1;
  // Mandatory. Resource key.
  ScopeResourceKey scope_resource_key = 2;
}

// Contains the resources assignment to scope information.
message ScopeAssignedResources {
  // Mandatory. Resource key.
  ScopeResourceKey scope_resource_key = 1;
  // Mandatory. List of gk resource IDs.
  repeated nuance.biosec.v1.UniqueId gk_resource_ids = 2;
}
